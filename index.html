<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Learn Websocket</title>
  </head>
  <body>
    <h1>Learn Websocket</h1>

    <div>
      <p id="status"></p>
    </div>
    <script>
      // Create WebSocket connection handshake.
      // 'wss' is more secure, it is WebSocket on https (good for production)
      // while 'ws' is WebSocket on http (ok for development environment)
      const ws = new WebSocket('ws://localhost:8082');

      ws.addEventListener('open', () => {
        console.log('We are connected to the server!');

        const status = document.getElementById('status');
        status.textContent = 'Status: WebSocket successfully connected!';
      });

      // change the server port # to any other number or stop the server to make it fail
      ws.addEventListener('error', () => {
        console.error('We failed to connect to the server!');

        const status = document.getElementById('status');
        status.textContent = 'Status: WebSocket failed to connect :(';
      });
    </script>
  </body>
</html>
